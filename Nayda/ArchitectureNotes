//Created on 13.02.3019


ARCH_1
/* ==============================
*   CARD IMPLEMENTATION LOGIC
*/ ==============================
As far as card's transporting system is concerned:
1) Each method responsible is unique, since implementation of cards are strongly type-based
and the basis is to small to make the common method for all of them.
2) So, For each card type there SHOULD BE own Implementer method, where card property transportation
is taken place.
3) All the actions with card as property SHOULD take place before animation!!!
4) Generic structure is allways the same:

A) User-initiated
    a1) Check General Restrictions
    a2) Check Implementation allowance
    a3) According to allowance, start Implementer or Report Reason of Restriciton to User
    a4) Start Animation if necessary,
    a5) Report to Server

B) Server-initiated
    b1) Start Implementer Directly. With the only exeception of Armor and Weapon implementations - the
    allowance should be received to decide whether they are allowed to be ACTIVE or SHOULD BE Incative.
    b2) Start Animation.

*Note 1

Battlefield cards processing MIGHT differ from the explained.



А теперь по-русски

Заметки о фазах. Придуманы в процессе работы над применением улучшителей.

//Отсылать на сервер сигнал о применении этой команды можно только после того, как игрок принял решение
//О том, к какой карте применить. Соответственно, здесь придётся применить новый алгоритм.
//Когда игроку требуется принять решение, к какой карте применить усилитель,
//На время принятия решения требуется заблокировать действия других игроков -
//чтобы не могли выбить, к примеру, Проклятием карту из руки.
//Это время регламентируется. И в случае отсутствия решения карта БУДЕТ применена
//К первой возможной вещи из списка тех, к которым она может быть применена.

//Или НЕ выставлять такой блокирующйи сигнал?
//Ведь на самом деле это - пробелмы каждого конкретного игрока.
//Когда будет применено проклятие фаза выбора карты будет ОТМЕНЕНА
//И игрок перейдёт в фазу РАБОТА_С_ПРОКЛЯТЬЕМ, в которой ПРИМЕНЕНИЕ любых других ПРОКЛЯТИЙ
//Запрещено.
//В этом случае у него будет время на обработку этого процесса.
//Алгоритм работы с проклятиями будет рассмотрен отдельно.
//Т.е. применение усилителя МОЖЕТ БЫТЬ прервано применением проклятия к игроку
//Игрок может ОТКАЗАТЬСЯ от применения проклятия


//Итого, будет применена следующая идеология
//Все Фазы хода игрока МОГУТ быть прерваны проклятиями,
//ЗА ИСКЛЮЧЕНИЕМ
//Фазы разбирательства с непотребствами:
//GamePhase::AfterBattleLoose
//Фазы процессинга анимации карт:
//GamePhase::CardAnimation
//Воровства (требуется определиться, у кого в итоге окажется карта):
//GamePhase::Theft
//Т.е., к примеру, фаза торговли МОЖЕТ быть прервана сигналом от СЕРВЕРА
//о применении к ТЕКУЩЕМУ игроку "проклятия".
//Применение же проклятия к ДРУГОМУ игроку НЕ ВЛИЯЕТ на ход мысли текущего игрока
//Разбираться с проклятиями - не его задача.



1. Применение усилителей

А)  Если нет карт, к которым можно применить усилитель
    Игроку будет выведено соответсвующее сообщение.

Б)  Если такая карта есть, и она ОДНА - усилитель будет применён автоматически.

В)  Если таких карт несколько, игроку будет предложен 5 секундный (ненастраиваемое время) выбор.
    Карты будут выложены перед ним - их собственником будет TheGame!!!
    Позиционированны они будут на поле боя - сразу выше карт игрока.
    Выделенная карта будет подсвечена. Второе нажатие на неё приведёт к её применению.
    Если игрок не успеет сделать выбор, карта будет применена к ПОСЛЕДНЕЙ ВЫБРАННОЙ (на которую укажет селектор).
    Только после этого уйдёт сигнал на сервер.
    Если и этого выполнено не будет

===///===///===///===///===///===///===///===///===///===///===///===///===///===///===///===///===///===///===///




